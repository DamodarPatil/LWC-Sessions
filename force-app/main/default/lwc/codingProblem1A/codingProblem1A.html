<template>
  <lightning-card title="Active Contact List">
    <lightning-button
      label="Load Contacts"
      onclick={handleButtonClick}
    ></lightning-button>
    <template if:true={contacts}>
      <!-- <ul>
        <template for:each={contacts} for:item="contact">
          <li key={contact.Id}>{contact.Name} - {contact.Email}</li>

        </template>
      </ul> -->
      <template if:true={isModalOpen}>
        <section
          role="dialog"
          tabindex="-1"
          aria-labelledby="modal-heading-01"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
          class="slds-modal slds-fade-in-open"
        >
          <div class="slds-modal__container">
            <header class="slds-modal__header">
              <button
                class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                title="Close"
                onclick={closeModalHandler}
              >
                <lightning-icon
                  icon-name="utility:close"
                  size="small"
                  alternative-text="Close"
                ></lightning-icon>
                <span class="slds-assistive-text">Close</span>
              </button>
              <h2
                id="modal-heading-01"
                class="slds-modal__title slds-hyphenate"
              >
                Active Contact List
              </h2>
            </header>
            <div
              class="slds-modal__content slds-p-around_medium"
              id="modal-content-id-1"
            >
              <lightning-datatable
                key-field="Id"
                data={contacts}
                columns={columns}
                onrowaction={handleRowAction}
              >
              </lightning-datatable>
            </div>
          </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
      </template>
    </template>
    <template if:true={error}>
      <p class="slds-text-color_error">Error: {error}</p>
    </template>
  </lightning-card>
</template>
